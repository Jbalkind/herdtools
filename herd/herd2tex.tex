\usepackage[margin=1in]{geometry}
\usepackage[usenames,dvipsnames]{color}
%\usepackage[T1]{fontenc}

\usepackage{listings}
\lstset{basicstyle=\ttfamily, columns=fixed, basewidth=0.5em}

\usepackage{framed}
\definecolor{shadecolor}{gray}{0.9}

\newcommand\var{\begingroup\catcode`\_=12 \varINNER}
\newcommand\varINNER[1]{\ensuremath{\mathit{#1}}\endgroup}

\newcommand\name{\begingroup\catcode`_=12 \nameINNER}
\newcommand\nameINNER[1]{\ensuremath{\mathrm{#1}}\endgroup}

%\newcommand\code{\begingroup\catcode`_=12 \codeINNER}
%\newcommand\codeINNER[1]{\mbox{\texttt{#1}\endgroup}}

\newcommand\entercomment{\end{shaded*}}
\newcommand\exitcomment{\begin{shaded*}}

\newenvironment{source}
{\exitcomment}
{\entercomment}

\newcommand\KWD[1]{{\color{RoyalPurple}\bfseries #1}}
\newcommand\kwd[1]{{\color{ForestGreen}#1}}
% \newcommand\var[1]{\mbox{\lstinline[basicstyle=\itshape, columns=flexible]{#1}}}
% \newcommand\name[1]{\mbox{\lstinline[basicstyle=\rmfamily,columns=flexible]{#1}}}
\newcommand\code[1]{\mbox{\lstinline{#1}}}
\newcommand\modelname[1]{{\Large\bf #1}}

\newcommand\fixme[1]{{\color{red}#1}}